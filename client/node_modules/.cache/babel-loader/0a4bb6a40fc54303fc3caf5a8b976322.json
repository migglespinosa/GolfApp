{"ast":null,"code":"var _jsxFileName = \"/Users/developer/Desktop/Software_Projects/GolfApp/my-app/client/src/Main/Calculate/Calculate.js\";\nimport React from 'react';\nimport DifferentialDisplay from './DifferentialDisplay';\nimport HandicapDisplay from './HandicapDisplay';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { addDifferentials, addHandicaps } from '../../Redux/actions/authActions';\nimport logo from \"../../logo.svg\";\nimport '../../App.css';\n\nconst populateArray = rounds => {\n  console.log(\"rounds: \", rounds);\n  const differentialArray = [];\n  rounds.forEach(round => {\n    differentialArray.push(round);\n  });\n  console.log(\"differentialArray: \", differentialArray);\n  return differentialArray;\n};\n\nclass Calculate extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display: null,\n      Score: 0,\n      CourseRating: 0,\n      Slope: 0,\n      handicap: 0,\n      differentialArray: populateArray(this.props.golfer.differentials),\n      handicapArray: this.props.golfer.handicap,\n      differentialSaved: false,\n      differentialCalculated: false,\n      handicapCalculated: false,\n      handicapSaved: false\n    };\n    this.calculateDiff = this.calculateDiff.bind(this);\n    this.CalculateHandicap = this.CalculateHandicap.bind(this);\n    this.handleScoreChange = this.handleScoreChange.bind(this);\n    this.handleCourseRatingChange = this.handleCourseRatingChange.bind(this);\n    this.handleSlopeChange = this.handleSlopeChange.bind(this);\n    this.differentialArray = populateArray(this.props.golfer.differentials);\n    this.saveHandicap = this.saveHandicap.bind(this);\n  }\n\n  calculateDiff(event) {\n    const differential = (this.state.Score - this.state.CourseRating) * (113 / this.state.Slope);\n    this.setState({\n      display: Math.round(differential),\n      differentialCalculated: true\n    });\n    event.preventDefault();\n  }\n\n  CalculateHandicap(event) {\n    const sortedDifferentials = this.state.differentialArray;\n    sortedDifferentials.sort((a, b) => a.differential > b.differential ? 1 : b.differential > a.differential ? -1 : 0);\n    console.log(sortedDifferentials);\n    var total = 0;\n    var i;\n\n    for (i = 0; i < 5; i++) {\n      console.log(sortedDifferentials[i].differential);\n      total = total + sortedDifferentials[i].differential;\n    }\n\n    this.setState({\n      handicap: total / 5,\n      handicapCalculated: true\n    });\n    console.log(\"this.state.handicapCalculated: \", this.state.handicapCalculated);\n    console.log(\"this.state.handicapSaved: \", this.state.handicapSaved);\n  }\n\n  handleScoreChange(event) {\n    this.setState({\n      Score: event.target.value\n    });\n  }\n\n  handleCourseRatingChange(event) {\n    this.setState({\n      CourseRating: event.target.value\n    });\n  }\n\n  handleSlopeChange(event) {\n    this.setState({\n      Slope: event.target.value\n    });\n  }\n\n  saveDifferential() {\n    const currentDate = new Date();\n    const differentialObject = {\n      date: currentDate.toLocaleString(),\n      differential: this.state.display\n    };\n    this.props.addDifferentials(differentialObject);\n    this.setState({\n      differentialArray: [...this.state.differentialArray, differentialObject],\n      differentialCalculated: false,\n      differentialSaved: true\n    });\n  }\n\n  saveHandicap() {\n    const currentDate = new Date();\n    const handicapObject = {\n      date: currentDate.toLocaleString(),\n      handicap: this.state.handicap\n    };\n    this.props.addHandicaps(handicapObject);\n    this.setState({\n      handicapArray: [...this.state.handicapArray, handicapObject],\n      handicapCalculated: false,\n      handicapSaved: true\n    });\n  }\n\n  render() {\n    let differentialMessage;\n\n    if (this.state.differentialSaved == false) {\n      differentialMessage = null;\n    } else {\n      differentialMessage = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Saved! You can view all \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), \"your differntials in the score tab \");\n    }\n\n    let handicapMessage;\n\n    if (this.state.handicapSaved == true && this.state.handicapCalculated == false) {\n      handicapMessage = null;\n    } else {\n      console.log(\"this.state.handicapCalculated: \", this.state.handicapCalculated);\n      console.log(\"this.state.handicapSaved: \", this.state.handicapSaved);\n      handicapMessage = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Saved! You can view all \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), \"your handicaps in the score tab \");\n    }\n\n    let handicapSave;\n\n    if (this.state.handicapCalculated == false) {\n      handicapSave = null;\n    } else {\n      handicapSave = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"You handicap is \", this.state.handicap, \" \"), React.createElement(\"button\", {\n        type: \"button\",\n        id: \"saveHandicap\",\n        onClick: e => this.saveHandicap(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Save\"));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Calculate your latest differential: \"), React.createElement(\"form\", {\n      onSubmit: this.calculateDiff,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Score:\", React.createElement(\"input\", {\n      type: \"text\",\n      id: \"Score\",\n      value: this.state.Score,\n      onChange: this.handleScoreChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    })), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Course Rating:\", React.createElement(\"input\", {\n      type: \"text\",\n      id: \"CourseRating\",\n      value: this.state.CourseRating,\n      onChange: this.handleCourseRatingChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Slope:\", React.createElement(\"input\", {\n      type: \"text\",\n      id: \"Slope\",\n      value: this.state.Slope,\n      onChange: this.handleSlopeChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Calculate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    })), this.state.differentialCalculated == true ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \" Your latest differential is \", this.state.display, \". \"), React.createElement(\"button\", {\n      type: \"button\",\n      id: \"Save\",\n      onClick: e => this.saveDifferential(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Save\"))) : \"\", this.state.differentialSaved == true && this.state.differentialCalculated == false ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, differentialMessage) : \"\"), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Calculate your handicap: \"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, this.state.differentialArray.length >= 5 ? React.createElement(\"button\", {\n      type: \"button\",\n      key: \"Calculate\",\n      id: \"CalculateHandicaps\",\n      onClick: e => this.CalculateHandicap(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"CalculateHandicap\") : \"To Calculate your handicap, please save more than five differentials!\"), handicapSave, handicapMessage))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  addDifferentials,\n  addHandicaps\n})(Calculate);\nexport { populateArray };","map":{"version":3,"sources":["/Users/developer/Desktop/Software_Projects/GolfApp/my-app/client/src/Main/Calculate/Calculate.js"],"names":["React","DifferentialDisplay","HandicapDisplay","Container","Row","Col","connect","addDifferentials","addHandicaps","populateArray","rounds","console","log","differentialArray","forEach","round","push","Calculate","Component","constructor","props","state","display","Score","CourseRating","Slope","handicap","golfer","differentials","handicapArray","differentialSaved","differentialCalculated","handicapCalculated","handicapSaved","calculateDiff","bind","CalculateHandicap","handleScoreChange","handleCourseRatingChange","handleSlopeChange","saveHandicap","event","differential","setState","Math","preventDefault","sortedDifferentials","sort","a","b","total","i","target","value","saveDifferential","currentDate","Date","differentialObject","date","toLocaleString","handicapObject","render","differentialMessage","handicapMessage","handicapSave","e","length","mapStateToProps","auth","errors"],"mappings":"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","sourcesContent":["import React from 'react';\nimport DifferentialDisplay from './DifferentialDisplay';\nimport HandicapDisplay from './HandicapDisplay';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport { connect } from 'react-redux';\nimport { addDifferentials, addHandicaps} from '../../Redux/actions/authActions';\nimport logo from '../../logo.svg';\nimport '../../App.css';\n\nconst populateArray = rounds => {\n  console.log(\"rounds: \", rounds);\n  const differentialArray = [];\n  rounds.forEach(round => {\n    differentialArray.push(round);\n  })\n  console.log(\"differentialArray: \", differentialArray);\n  return differentialArray;\n};\n\nclass Calculate extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      display: null,\n      Score: 0,\n      CourseRating: 0,\n      Slope: 0,\n      handicap: 0,\n      differentialArray: populateArray(this.props.golfer.differentials),\n      handicapArray: this.props.golfer.handicap,\n      differentialSaved: false,\n      differentialCalculated: false,\n      handicapCalculated: false,\n      handicapSaved: false\n    }\n    this.calculateDiff = this.calculateDiff.bind(this);\n    this.CalculateHandicap = this.CalculateHandicap.bind(this);\n    this.handleScoreChange = this.handleScoreChange.bind(this);\n    this.handleCourseRatingChange = this.handleCourseRatingChange.bind(this);\n    this.handleSlopeChange = this.handleSlopeChange.bind(this);\n    this.differentialArray = populateArray(this.props.golfer.differentials);\n    this.saveHandicap = this.saveHandicap.bind(this);\n  }\n\n  calculateDiff(event){\n    const differential = (this.state.Score - this.state.CourseRating)*(113/this.state.Slope)\n    this.setState({\n      display: Math.round(differential),\n      differentialCalculated: true\n    });\n    event.preventDefault();\n  }\n\n  CalculateHandicap(event){\n    const sortedDifferentials = this.state.differentialArray;\n    sortedDifferentials.sort((a,b) => (a.differential > b.differential) ? 1 : ((b.differential > a.differential) ? -1 : 0));\n    console.log(sortedDifferentials)\n    var total = 0;\n    var i;\n    for(i = 0; i < 5; i++){\n      console.log(sortedDifferentials[i].differential)\n      total = total + sortedDifferentials[i].differential;\n    }\n    this.setState({\n      handicap: (total)/5,\n      handicapCalculated: true\n    })\n    console.log(\"this.state.handicapCalculated: \", this.state.handicapCalculated);\n    console.log(\"this.state.handicapSaved: \", this.state.handicapSaved);\n  }\n\n  handleScoreChange(event){\n    this.setState({Score: event.target.value});\n  }\n\n  handleCourseRatingChange(event){\n    this.setState({CourseRating: event.target.value});\n  }\n\n  handleSlopeChange(event){\n    this.setState({Slope: event.target.value});\n  }\n\n  saveDifferential(){\n    const currentDate = new Date();\n    const differentialObject = {\n      date: currentDate.toLocaleString(),\n      differential: this.state.display\n    }\n\n    this.props.addDifferentials(differentialObject);\n\n    this.setState({\n      differentialArray: [...this.state.differentialArray, differentialObject],\n      differentialCalculated: false,\n      differentialSaved: true\n    });\n  }\n\n  saveHandicap(){\n    const currentDate = new Date();\n    const handicapObject = {\n      date: currentDate.toLocaleString(),\n      handicap: this.state.handicap\n    }\n    this.props.addHandicaps(handicapObject);\n    this.setState({\n      handicapArray: [...this.state.handicapArray, handicapObject],\n      handicapCalculated: false,\n      handicapSaved: true\n    });\n  }\n\n  render(){\n\n    let differentialMessage;\n    if(this.state.differentialSaved == false){\n      differentialMessage = null;\n    }\n    else{\n      differentialMessage = (<p>Saved! You can view all <br />\n                            your differntials in the score tab </p>)\n    }\n\n    let handicapMessage;\n    if(this.state.handicapSaved == true && this.state.handicapCalculated == false){\n      handicapMessage = null;\n    }\n    else{\n      console.log(\"this.state.handicapCalculated: \", this.state.handicapCalculated);\n      console.log(\"this.state.handicapSaved: \", this.state.handicapSaved);\n      handicapMessage = (<p>Saved! You can view all <br />\n                            your handicaps in the score tab </p>)\n    }\n\n    let handicapSave;\n    if(this.state.handicapCalculated == false){\n      handicapSave = null;\n    }\n    else{\n      handicapSave = (\n        <div>\n          <p>You handicap is {this.state.handicap} </p>\n          <button type=\"button\" id=\"saveHandicap\" onClick={e => this.saveHandicap()}>\n            Save\n          </button>\n        </div>\n      )\n    }\n\n    return(\n      <div>\n        <Container>\n          <Row>\n            <Col>\n            <h4>Calculate your latest differential: </h4>\n            <form onSubmit={this.calculateDiff}>\n              <label>\n                Score:\n                <input type=\"text\" id=\"Score\"\n                value={this.state.Score}\n                onChange={this.handleScoreChange} />\n              </label> <br />\n              <label>\n                Course Rating:\n                <input type=\"text\" id=\"CourseRating\"\n                value={this.state.CourseRating}\n                onChange={this.handleCourseRatingChange} />\n              </label> <br />\n              <label>\n                Slope:\n                <input type=\"text\" id=\"Slope\"\n                value={this.state.Slope}\n                onChange={this.handleSlopeChange} />\n              </label> <br />\n              <input type=\"submit\" value=\"Calculate\" />\n            </form>\n            {this.state.differentialCalculated == true ? (\n              <div>\n                <div>\n                  <p> Your latest differential is {this.state.display}. </p>\n                  <button type=\"button\" id=\"Save\" onClick={e => this.saveDifferential()}>\n                    Save\n                  </button>\n                </div>\n              </div>\n            ) : (\"\")}\n            {(this.state.differentialSaved == true &&\n              this.state.differentialCalculated == false) ? (\n              <div>\n              {differentialMessage}\n              </div>\n            ): (\"\")}\n            </Col>\n            <Col>\n              <h4>Calculate your handicap: </h4>\n              <div>\n                {this.state.differentialArray.length >= 5 ? (\n                  <button type=\"button\" key=\"Calculate\" id=\"CalculateHandicaps\" onClick={e => this.CalculateHandicap()}>CalculateHandicap</button>) : (\n                  \"To Calculate your handicap, please save more than five differentials!\"\n                )}\n              </div>\n              {handicapSave}\n              {handicapMessage}\n          </Col>\n        </Row>\n      </Container>\n    </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { addDifferentials, addHandicaps }\n)(Calculate);\n\nexport {populateArray};\n"]},"metadata":{},"sourceType":"module"}