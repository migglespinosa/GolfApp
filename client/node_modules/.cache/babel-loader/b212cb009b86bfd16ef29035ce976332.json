{"ast":null,"code":"import axios from \"axios\";\nimport setAuthToken from \"../../utils/setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport { GET_ERRORS, SET_CURRENT_GOLFER, GOLFER_LOADING, UPDATE_DIFFERENTIAL, UPDATE_HANDICAP, UPDATE_REQUEST, DECLINE_REQUEST, ACCEPT_REQUEST, ADD_PENDING_OUTING, DELETE_HANDICAP, DELETE_DIFFERENTIAL } from \"./types\";\nexport const deleteDifferential = differential => dispatch => {\n  axios.post(\"/Golfers/deleteDifferential\", differential).then(dispatch(removeDifferential(differential))).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response\n  }));\n};\nexport const deleteHandicap = handicap => dispatch => {\n  axios.post(\"/Golfers/deleteHandicap\", handicap).then(dispatch(removeHandicap(handicap))).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response\n  }));\n};\nexport const addPendingOuting = outing => dispatch => {\n  axios.post(\"/outings/addPendingOuting\", outing).then(dispatch(addPending(outing))).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response\n  }));\n};\nexport const acceptRequest = acceptObject => dispatch => {\n  axios.post(\"/Golfers/acceptRequest\", acceptObject).then(res => {\n    dispatch(accept(acceptObject));\n  }).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response\n  }));\n};\nexport const declineRequest = declineObject => dispatch => {\n  axios.post(\"/Golfers/declineRequest\", declineObject).then(res => {\n    dispatch(rejectRequest(declineObject.username));\n  }).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response\n  }));\n}; //Add sentRequests and receivedRequests to current and target golfer\n\nexport const addRequests = userObject => dispatch => {\n  return axios.post(\"/Golfers/sendRequest\", userObject).then(res => {\n    dispatch(updateRequest(userObject));\n  }).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response\n  }));\n}; //Search user\n\nexport const searchUser = user => dispatch => {\n  const userObject = {\n    username: user\n  };\n  return axios.post(\"/Golfers/search\", userObject).then(res => {\n    return {\n      exists: res.data.exists,\n      id: res.data.id\n    };\n  }).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  }));\n}; // Add Differentials\n\nexport const addDifferentials = differential => dispatch => {\n  console.log(\"addDifferntial called\");\n  dispatch(updateDifferentials(differential));\n  axios.post(\"/Golfers/addDifferntial\", differential).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  }));\n}; // Add handicaps\n\nexport const addHandicaps = handicap => dispatch => {\n  console.log(\"handicap: \", handicap);\n  dispatch(updateHandicaps(handicap));\n  axios.post(\"/Golfers/addHandicap\", handicap).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  }));\n}; // Register User\n\nexport const registerGolfer = userData => dispatch => {\n  return axios.post(\"/Golfers/register\", userData).then(res => {\n    return {\n      username: res.data.username\n    };\n  }) // re-direct to login on successful register\n  .catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n}; // Login - get user token\n\nexport const loginGolfer = userData => dispatch => {\n  console.log(\"loginGolfer\");\n  return axios.post(\"/Golfers/login\", userData).then(res => {\n    // Save to localStorage\n    // Set token to localStorage\n    const token = res.data.token;\n    localStorage.setItem(\"jwtToken\", token); // Set token to Auth header\n\n    setAuthToken(token); // Decode token to get user data\n\n    const decoded = jwt_decode(token);\n    console.log(\"decoded I: \", decoded); // Set current user\n    //findGolfer(decoded.id);\n\n    dispatch(setCurrentGolfer(decoded));\n  }).catch(err => {\n    return {\n      err: err.response.data\n    };\n  });\n};\nexport const removeDifferential = differential => {\n  console.log(\"removeDifferential \");\n  console.log(\"differential: \", differential);\n  return {\n    type: DELETE_DIFFERENTIAL,\n    payload: differential\n  };\n};\nexport const removeHandicap = handicap => {\n  return {\n    type: DELETE_HANDICAP,\n    payload: handicap\n  };\n};\nexport const addPending = outing => {\n  console.log(\"addPending\");\n  return {\n    type: ADD_PENDING_OUTING,\n    payload: outing\n  };\n};\nexport const accept = user => {\n  return {\n    type: ACCEPT_REQUEST,\n    payload: user\n  };\n};\nexport const rejectRequest = user => {\n  return {\n    type: DECLINE_REQUEST,\n    payload: user\n  };\n};\nexport const updateRequest = request => {\n  return {\n    type: UPDATE_REQUEST,\n    payload: request\n  };\n}; //Update user differntials\n\nexport const updateDifferentials = differential => {\n  return {\n    type: UPDATE_DIFFERENTIAL,\n    payload: differential\n  };\n}; //Update Handicaps\n\nexport const updateHandicaps = handicap => {\n  return {\n    type: UPDATE_HANDICAP,\n    payload: handicap\n  };\n}; // Set logged in user\n\nexport const setCurrentGolfer = decoded => {\n  console.log(\"decoded: \", decoded);\n  return {\n    type: SET_CURRENT_GOLFER,\n    payload: decoded\n  };\n}; // User loading\n\nexport const setGolferLoading = () => {\n  return {\n    type: GOLFER_LOADING\n  };\n}; // Log user out\n\nexport const logoutGolfer = () => dispatch => {\n  // Remove token from local storage\n  localStorage.removeItem(\"jwtToken\"); // Remove auth header for future requests\n\n  setAuthToken(false); // Set current user to empty object {} which will set isAuthenticated to false\n\n  dispatch(setCurrentGolfer({}));\n};","map":{"version":3,"sources":["/Users/developer/Desktop/Software_Projects/GolfApp/my-app/client/src/Redux/actions/authActions.js"],"names":["axios","setAuthToken","jwt_decode","GET_ERRORS","SET_CURRENT_GOLFER","GOLFER_LOADING","UPDATE_DIFFERENTIAL","UPDATE_HANDICAP","UPDATE_REQUEST","DECLINE_REQUEST","ACCEPT_REQUEST","ADD_PENDING_OUTING","DELETE_HANDICAP","DELETE_DIFFERENTIAL","deleteDifferential","differential","dispatch","post","then","removeDifferential","catch","err","type","payload","response","deleteHandicap","handicap","removeHandicap","addPendingOuting","outing","addPending","acceptRequest","acceptObject","res","accept","declineRequest","declineObject","rejectRequest","username","addRequests","userObject","updateRequest","searchUser","user","exists","data","id","addDifferentials","console","log","updateDifferentials","addHandicaps","updateHandicaps","registerGolfer","userData","loginGolfer","token","localStorage","setItem","decoded","setCurrentGolfer","request","setGolferLoading","logoutGolfer","removeItem"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport setAuthToken from \"../../utils/setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport {\n  GET_ERRORS,\n  SET_CURRENT_GOLFER,\n  GOLFER_LOADING,\n  UPDATE_DIFFERENTIAL,\n  UPDATE_HANDICAP,\n  UPDATE_REQUEST,\n  DECLINE_REQUEST,\n  ACCEPT_REQUEST,\n  ADD_PENDING_OUTING,\n  DELETE_HANDICAP,\n  DELETE_DIFFERENTIAL\n} from \"./types\";\n\nexport const deleteDifferential = (differential) => dispatch => {\n  axios.post(\"/Golfers/deleteDifferential\", differential)\n  .then(\n    dispatch(removeDifferential(differential))\n  )\n  .catch(err =>\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response\n    })\n  )\n}\n\nexport const deleteHandicap = (handicap) => dispatch => {\n  axios.post(\"/Golfers/deleteHandicap\", handicap)\n  .then(\n    dispatch(removeHandicap(handicap))\n  )\n  .catch(err =>\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response\n    })\n  )\n}\n\nexport const addPendingOuting = (outing) => dispatch => {\n  axios.post(\"/outings/addPendingOuting\", outing)\n  .then(\n    dispatch(addPending(outing))\n  )\n  .catch(err =>\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response\n    })\n  )\n}\n\nexport const acceptRequest = (acceptObject) => dispatch => {\n  axios.post(\"/Golfers/acceptRequest\", acceptObject)\n    .then(res => {\n      dispatch(accept(acceptObject));\n    })\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response\n      })\n    )\n}\n\nexport const declineRequest = (declineObject) => dispatch => {\n  axios.post(\"/Golfers/declineRequest\", declineObject)\n    .then(res => {\n      dispatch(rejectRequest(declineObject.username));\n    })\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response\n      })\n    )\n}\n\n\n//Add sentRequests and receivedRequests to current and target golfer\nexport const addRequests = (userObject) => dispatch => {\n  return(\n    axios.post(\"/Golfers/sendRequest\", userObject)\n      .then(res => {\n        dispatch(updateRequest(userObject));\n      })\n      .catch(err =>\n        dispatch({\n          type: GET_ERRORS,\n          payload: err.response\n        })\n      )\n  )\n}\n\n\n//Search user\nexport const searchUser = (user) => dispatch => {\n  const userObject = {username: user};\n  return(\n    axios.post(\"/Golfers/search\", userObject)\n      .then(res => {\n        return {exists: res.data.exists, id: res.data.id};\n      })\n      .catch(err =>\n        dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data\n        })\n      )\n    )\n}\n\n// Add Differentials\nexport const addDifferentials = (differential) => dispatch => {\n  console.log(\"addDifferntial called\");\n\n  dispatch(updateDifferentials(differential));\n  axios.post(\"/Golfers/addDifferntial\", differential)\n  .catch(err =>\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    })\n  );\n}\n\n// Add handicaps\nexport const addHandicaps = (handicap) => dispatch => {\n\n  console.log(\"handicap: \", handicap)\n  dispatch(updateHandicaps(handicap));\n  axios.post(\"/Golfers/addHandicap\", handicap)\n  .catch(err =>\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    })\n  );\n}\n\n// Register User\nexport const registerGolfer = (userData) => dispatch => {\n\n  return (\n    axios.post(\"/Golfers/register\", userData)\n    .then(res => {\n      return {username: res.data.username}}) // re-direct to login on successful register\n      .catch(err => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data\n        })\n      })\n    )\n};\n// Login - get user token\nexport const loginGolfer = userData => dispatch => {\n  console.log(\"loginGolfer\")\n  return(\n  axios\n    .post(\"/Golfers/login\", userData)\n    .then(res => {\n      // Save to localStorage\n// Set token to localStorage\n      const { token } = res.data;\n      localStorage.setItem(\"jwtToken\", token);\n      // Set token to Auth header\n      setAuthToken(token);\n      // Decode token to get user data\n      const decoded = jwt_decode(token);\n\n      console.log(\"decoded I: \", decoded);\n\n      // Set current user\n      //findGolfer(decoded.id);\n\n      dispatch(setCurrentGolfer(decoded));\n    })\n    .catch(err => {\n      return {err: err.response.data}\n    })\n  )\n};\n\nexport const removeDifferential = differential => {\n  console.log(\"removeDifferential \");\n  console.log(\"differential: \", differential)\n  return {\n    type: DELETE_DIFFERENTIAL,\n    payload: differential\n  }\n};\n\nexport const removeHandicap = handicap => {\n  return {\n    type: DELETE_HANDICAP,\n    payload: handicap\n  }\n}\n\nexport const addPending = outing => {\n  console.log(\"addPending\");\n  return {\n    type: ADD_PENDING_OUTING,\n    payload: outing\n  }\n};\n\nexport const accept = user => {\n  return {\n    type: ACCEPT_REQUEST,\n    payload: user\n  }\n};\n\nexport const rejectRequest = user => {\n  return {\n    type: DECLINE_REQUEST,\n    payload: user\n  }\n};\n\nexport const updateRequest = request => {\n  return {\n    type: UPDATE_REQUEST,\n    payload: request\n  }\n};\n\n//Update user differntials\nexport const updateDifferentials = differential => {\n  return{\n    type: UPDATE_DIFFERENTIAL,\n    payload: differential\n  }\n};\n\n//Update Handicaps\nexport const updateHandicaps = handicap => {\n  return{\n    type: UPDATE_HANDICAP,\n    payload: handicap\n  }\n};\n\n// Set logged in user\nexport const setCurrentGolfer = decoded => {\n  console.log(\"decoded: \", decoded);\n  return {\n    type: SET_CURRENT_GOLFER,\n    payload: decoded\n  };\n};\n// User loading\nexport const setGolferLoading = () => {\n  return {\n    type: GOLFER_LOADING\n  };\n};\n// Log user out\nexport const logoutGolfer = () => dispatch => {\n  // Remove token from local storage\n  localStorage.removeItem(\"jwtToken\");\n  // Remove auth header for future requests\n  setAuthToken(false);\n  // Set current user to empty object {} which will set isAuthenticated to false\n  dispatch(setCurrentGolfer({}));\n};\n"]},"metadata":{},"sourceType":"module"}