{"ast":null,"code":"var _jsxFileName = \"/Users/developer/Desktop/Software_Projects/GolfApp/my-app/client/src/Main/Outings/InvitedOutings.js\";\nimport React from 'react';\nimport logo from \"../../logo.svg\";\nimport '../../App.css';\nimport axios from \"axios\";\n\nconst isPending = function (participant, index, array) {\n  return participant.confirmed == false;\n};\n\nclass InvitedOutings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      outings: null,\n      date: new Date()\n    };\n    this.acceptOuting = this.acceptOuting.bind(this);\n    this.declineOuting = this.declineOuting.bind(this);\n    this.isConfirmed = this.isConfirmed.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(\"Outings/GolferPending/\" + this.props.id).then(res => {\n      const outings = res.data.filter(outing => {\n        if (outing.creator != this.props.id) {\n          return {\n            id: outing._id,\n            creator: outing.creator,\n            pending: outing.pending,\n            date: outing.date,\n            location: outing.location,\n            participants: outing.participants\n          };\n        }\n      });\n      this.setState({\n        outings: outings\n      });\n    });\n  }\n\n  acceptOuting(outingId) {\n    const currentOuting = this.state.outings.filter(outing => {\n      if (outing._id == outingId) {\n        return outing;\n      }\n    });\n    const filteredOutings = this.state.outings.filter(outing => {\n      if (outing._id != outingId) {\n        return outing;\n      }\n    });\n    let participantId;\n    currentOuting[0].participants.forEach(participant => {\n      if (participant.participant == this.props.id) {\n        participantId = participant._id;\n      }\n    });\n    axios.put(\"Outings/accept/\" + outingId, {\n      participantId: participantId\n    }).then(res => {\n      this.setState({\n        outings: filteredOutings\n      });\n    });\n  }\n\n  declineOuting(outingId) {\n    const currentOuting = this.state.outings.filter(outing => {\n      if (outing._id == outingId) {\n        return outing;\n      }\n    });\n    const filteredOutings = this.state.outings.filter(outing => {\n      if (outing._id != outingId) {\n        return outing;\n      }\n    });\n    let participantId;\n    currentOuting[0].participants.forEach(participant => {\n      if (participant.participant == this.props.id) {\n        participantId = participant._id;\n      }\n    });\n    axios.put(\"Outings/decline/\" + outingId, {\n      participantId: participantId\n    }).then(res => {\n      this.setState({\n        outings: filteredOutings\n      });\n    });\n  }\n\n  isConfirmed(participant, index, array) {\n    return participant.confirmed == true && participant.participant == this.props.id;\n  }\n\n  render() {\n    const Outings = this.state.outings;\n    let invitedOutings, invitedOutingsPending;\n\n    if (Outings != null) {\n      invitedOutings = Outings.filter(outing => new Date(outing.date).getTime() > this.state.date);\n      invitedOutingsPending = invitedOutings.filter(outing => {\n        if (outing.participants.some(this.isConfirmed) == false && outing.pending == true) {\n          return outing;\n        }\n      });\n    } else {\n      invitedOutings = null;\n      invitedOutingsPending = null;\n    }\n\n    let list;\n\n    if (invitedOutingsPending) {\n      list = invitedOutingsPending.map(outing => React.createElement(\"ul\", {\n        id: \"invitedOutingsList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        key: invitedOutingsPending.indexOf(outing),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"to play at \", outing.location, \" on \", outing.date, \" id: \", outing._id, React.createElement(\"button\", {\n        onClick: () => this.acceptOuting(outing._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Accept\"), React.createElement(\"button\", {\n        onClick: () => this.declineOuting(outing._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Decline\"))));\n    } else {\n      list = null;\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Invited outings\"), list);\n  }\n\n}\n\nexport default InvitedOutings;","map":{"version":3,"sources":["/Users/developer/Desktop/Software_Projects/GolfApp/my-app/client/src/Main/Outings/InvitedOutings.js"],"names":["React","axios","isPending","participant","index","array","confirmed","InvitedOutings","Component","constructor","props","state","outings","date","Date","acceptOuting","bind","declineOuting","isConfirmed","componentDidMount","get","id","then","res","data","filter","outing","creator","_id","pending","location","participants","setState","outingId","currentOuting","filteredOutings","participantId","forEach","put","render","Outings","invitedOutings","invitedOutingsPending","getTime","some","list","map","indexOf"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from '../../logo.svg';\nimport '../../App.css';\nimport axios from \"axios\";\n\nconst isPending = function(participant, index, array){\n  return participant.confirmed == false\n}\n\nclass InvitedOutings extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      outings: null,\n      date: new Date()\n    }\n    this.acceptOuting = this.acceptOuting.bind(this);\n    this.declineOuting = this.declineOuting.bind(this);\n    this.isConfirmed = this.isConfirmed.bind(this);\n  }\n\n  componentDidMount(){\n\n    axios.get(\"Outings/GolferPending/\"+this.props.id)\n    .then(res => {\n      const outings = res.data.filter(outing => {\n        if(outing.creator != this.props.id){\n          return {\n            id: outing._id,\n            creator: outing.creator,\n            pending: outing.pending,\n            date: outing.date,\n            location: outing.location,\n            participants: outing.participants\n          }\n        }\n      })\n      this.setState({\n        outings: outings\n      })\n    });\n  }\n\n  acceptOuting(outingId){\n\n    const currentOuting = this.state.outings.filter(outing => {\n      if(outing._id == outingId){\n        return outing;\n      }\n    })\n\n    const filteredOutings = this.state.outings.filter(outing => {\n      if(outing._id  != outingId){\n        return outing;\n      }\n    })\n\n    let participantId;\n    currentOuting[0].participants.forEach(participant => {\n      if(participant.participant == this.props.id){\n        participantId = participant._id\n      }\n    })\n\n\n\n    axios.put(\"Outings/accept/\"+outingId, {participantId: participantId}).\n    then(res => {\n      this.setState({\n        outings: filteredOutings\n      })\n    })\n  }\n\n  declineOuting(outingId){\n\n    const currentOuting = this.state.outings.filter(outing => {\n      if(outing._id == outingId){\n        return outing;\n      }\n    })\n\n    const filteredOutings = this.state.outings.filter(outing => {\n      if(outing._id  != outingId){\n        return outing;\n      }\n    })\n\n    let participantId;\n    currentOuting[0].participants.forEach(participant => {\n      if(participant.participant == this.props.id){\n        participantId = participant._id\n      }\n    })\n\n    axios.put(\"Outings/decline/\"+outingId, {participantId: participantId}).\n    then(res => {\n      this.setState({\n        outings: filteredOutings\n      })\n    })\n  }\n\n  isConfirmed(participant, index, array){\n    return participant.confirmed == true && participant.participant == this.props.id\n  }\n\n\n  render(){\n\n    const Outings = this.state.outings;\n\n    let invitedOutings, invitedOutingsPending;\n    if(Outings != null){\n      invitedOutings = Outings.filter(outing => new Date(outing.date).getTime() > this.state.date);\n      invitedOutingsPending = invitedOutings.filter(outing => {\n        if(outing.participants.some(this.isConfirmed) == false && outing.pending == true){\n          return outing\n        }})\n    }\n    else{\n      invitedOutings = null;\n      invitedOutingsPending = null;\n    }\n\n    let list;\n    if(invitedOutingsPending){\n      list = (invitedOutingsPending.map(outing => (\n        <ul id=\"invitedOutingsList\">\n          <li\n            key={invitedOutingsPending.indexOf(outing)}\n          >\n             to play at {outing.location} on {outing.date} id: {outing._id}\n             <button onClick={() => this.acceptOuting(outing._id)}>Accept</button>\n             <button onClick={() => this.declineOuting(outing._id)}>Decline</button>\n          </li>\n        </ul>)));\n    }\n    else{\n      list = null;\n    }\n\n    return(\n      <div>\n        <h1>Invited outings</h1>\n        {list}\n      </div>\n    )\n  }\n}\n\nexport default InvitedOutings;\n"]},"metadata":{},"sourceType":"module"}