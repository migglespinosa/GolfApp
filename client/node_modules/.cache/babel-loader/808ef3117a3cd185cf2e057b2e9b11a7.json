{"ast":null,"code":"var _jsxFileName = \"/Users/developer/Desktop/Software_Projects/GolfApp/client/src/Main/Friends/FriendRequests.js\";\nimport React from 'react';\nimport '../../App.css';\nimport { connect } from 'react-redux';\nimport { searchUser, addRequests } from '../../Redux/actions/authActions';\n\nclass FriendRequests extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      NameExists: null,\n      RequestSent: false,\n      Username: ''\n    };\n    this.search = this.search.bind(this);\n    this.handleUsernameChange = this.handleUsernameChange.bind(this);\n    this.setNameExists = this.setNameExists.bind(this);\n    this.sendRequest = this.sendRequest.bind(this);\n  }\n\n  handleUsernameChange(event) {\n    this.setState({\n      Username: event.target.value,\n      NameExists: null\n    });\n  }\n\n  setNameExists(status) {\n    this.setState({\n      NameExists: status\n    });\n  }\n\n  search(event) {\n    this.props.searchUser(this.state.Username).then(res => {\n      const taken = this.props.golfer.friends.some(friend => {\n        return friend.username == this.state.Username;\n      });\n      const sent = this.props.golfer.sentRequests.some(request => {\n        return request.username == this.state.Username;\n      });\n      const received = this.props.golfer.receivedRequests.some(request => {\n        return request.username == this.state.Username;\n      });\n\n      if (taken) {\n        this.setState({\n          NameExists: \"AlreadyFriends\"\n        });\n      } else if (sent) {\n        this.setState({\n          NameExists: \"AlreadySent\"\n        });\n      } else if (received) {\n        this.setState({\n          NameExists: \"AlreadyRecieved\"\n        });\n      } else if (this.state.Username == this.props.golfer.username) {\n        this.setState({\n          NameExists: \"Yourself\"\n        });\n      } else {\n        this.setState({\n          NameExists: res.exists,\n          RequestSent: false\n        });\n      }\n    });\n    event.preventDefault();\n  }\n\n  sendRequest() {\n    const requestObject = {\n      username: this.state.Username\n    };\n    this.props.addRequests(requestObject);\n    this.setState({\n      RequestSent: true\n    });\n  }\n\n  render() {\n    let existsMessage;\n\n    if (this.state.NameExists == null) {\n      existsMessage = null;\n    } else if (this.state.NameExists == true) {\n      existsMessage = React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Add the user!\");\n    } else if (this.state.NameExists == \"Yourself\") {\n      existsMessage = React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"You can't add youself\");\n    } else if (this.state.NameExists == \"AlreadyFriends\") {\n      existsMessage = React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"You're already friends\");\n    } else if (this.state.NameExists == \"AlreadySent\") {\n      existsMessage = React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"You've already sent \", this.state.Username, \" a friend request.\");\n    } else if (this.state.NameExists == \"AlreadyRecieved\") {\n      existsMessage = React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"You've already recieved a friend request from \", this.state.Username, \".\");\n    } else if (this.state.NameExists == true && this.state.RequestSent == true) {\n      existsMessage = React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Request Sent!\");\n    } else {\n      existsMessage = React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Username does not exist\");\n    }\n\n    let sendRequest;\n\n    if (this.state.NameExists == true && this.state.RequestSent == false) {\n      sendRequest = React.createElement(\"button\", {\n        type: \"button\",\n        id: \"sendRequest\",\n        onClick: () => this.sendRequest(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Send \", this.state.Username, \" a friend request\");\n    } else {\n      sendRequest = null;\n    }\n\n    const searchForm = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Enter a Username :\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"SearchUsername\",\n      value: this.state.value,\n      onChange: this.handleUsernameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Search a golfer:\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), existsMessage, \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), searchForm, sendRequest);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  searchUser,\n  addRequests\n})(FriendRequests);","map":{"version":3,"sources":["/Users/developer/Desktop/Software_Projects/GolfApp/client/src/Main/Friends/FriendRequests.js"],"names":["React","connect","searchUser","addRequests","FriendRequests","Component","constructor","props","state","NameExists","RequestSent","Username","search","bind","handleUsernameChange","setNameExists","sendRequest","event","setState","target","value","status","then","res","taken","golfer","friends","some","friend","username","sent","sentRequests","request","received","receivedRequests","exists","preventDefault","requestObject","render","existsMessage","searchForm","mapStateToProps","auth","errors"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../App.css';\nimport { connect } from 'react-redux';\nimport { searchUser, addRequests } from '../../Redux/actions/authActions';\n\n\nclass FriendRequests extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      NameExists: null,\n      RequestSent: false,\n      Username: ''\n    }\n    this.search = this.search.bind(this);\n    this.handleUsernameChange = this.handleUsernameChange.bind(this);\n    this.setNameExists = this.setNameExists.bind(this);\n    this.sendRequest = this.sendRequest.bind(this);\n  }\n\n  handleUsernameChange(event){\n    this.setState({Username: event.target.value,\n    NameExists: null});\n  }\n\n\n  setNameExists(status){\n    this.setState({NameExists: status})\n  }\n\n\n  search(event){\n\n    this.props.searchUser(this.state.Username).then(res => {\n      const taken = this.props.golfer.friends.some(friend => {\n        return friend.username == this.state.Username\n      })\n\n      const sent = this.props.golfer.sentRequests.some(request => {\n        return request.username == this.state.Username\n      })\n\n      const received = this.props.golfer.receivedRequests.some(request => {\n        return request.username == this.state.Username\n      })\n\n\n      if(taken){\n        this.setState({\n          NameExists: \"AlreadyFriends\"\n        })\n      }\n      else if(sent){\n        this.setState({\n          NameExists: \"AlreadySent\"\n        })\n      }\n      else if(received){\n        this.setState({\n          NameExists: \"AlreadyRecieved\"\n        })\n      }\n      else if(this.state.Username == this.props.golfer.username){\n        this.setState({\n          NameExists: \"Yourself\"\n        })\n      }\n      else{\n        this.setState({\n          NameExists: res.exists,\n          RequestSent: false\n        })\n      }\n    })\n\n    event.preventDefault();\n\n  }\n\n  sendRequest(){\n    const requestObject = {\n      username: this.state.Username,\n    }\n    this.props.addRequests(requestObject);\n    this.setState({\n      RequestSent: true\n    })\n  }\n\n  render(){\n\n    let existsMessage;\n    if(this.state.NameExists == null){\n      existsMessage = null\n    }\n    else if(this.state.NameExists == true){\n      existsMessage = <h4>Add the user!</h4>\n    }\n    else if(this.state.NameExists == \"Yourself\"){\n      existsMessage = <h4>You can't add youself</h4>\n    }\n    else if(this.state.NameExists == \"AlreadyFriends\"){\n      existsMessage = <h4>You're already friends</h4>\n    }\n    else if(this.state.NameExists == \"AlreadySent\"){\n      existsMessage = <h4>You've already sent {this.state.Username} a friend request.</h4>\n    }\n    else if(this.state.NameExists == \"AlreadyRecieved\"){\n      existsMessage = <h4>You've already recieved a friend request from {this.state.Username}.</h4>\n    }\n    else if(this.state.NameExists == true && this.state.RequestSent == true){\n      existsMessage = <h4>Request Sent!</h4>\n    }\n    else{\n      existsMessage = <h4>Username does not exist</h4>\n    }\n\n    let sendRequest;\n    if(this.state.NameExists == true && this.state.RequestSent == false){\n      sendRequest = <button type=\"button\" id=\"sendRequest\" onClick={() => this.sendRequest()}>\n      Send {this.state.Username} a friend request</button>\n    }\n    else{\n      sendRequest = null;\n    }\n\n    const searchForm = (\n      <div>\n        <form onSubmit={this.search}>\n          <label>\n            Enter a Username :\n          </label>\n          <input type=\"text\" id=\"SearchUsername\"\n                 value={this.state.value}\n                 onChange={this.handleUsernameChange}/>\n          <br />\n          <input type=\"submit\" value=\"Search\"/>\n        </form>\n      </div>\n    )\n\n\n    return(\n      <div>\n        <h3>Search a golfer:</h3><br />\n        {existsMessage} <br />\n        {searchForm}\n        {sendRequest}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { searchUser, addRequests }\n)(FriendRequests);\n"]},"metadata":{},"sourceType":"module"}